function processData(input) {
  //Enter your code here
  let lines = input.split('\n')
  let arr = []
  for (let i = 1; i <= parseInt(lines[0]); i++) {
    dealLine(lines[i], i)
  }
  arr.sort(([t1, m1, i1], [t2, m2, i2]) => {
    return (t1 - t2) * 1000 + m1.length-m2.length
  })
  let str = ''
  arr.forEach(([t, msg,i,m]) => {
    // console.log(`${msg.trim()}.`)
    str+=`${t},${i},${m}|`
    str += msg.trim() + '.\n'
  })
  console.log(str)

  function dealLine(line, i) {
    let [msg, timeouts] = line.split(' : ')
    let matches = timeouts.match(/\d+/g)
    let totalTimeout = matches
      ? matches.reduce((rtn, next) => rtn + parseInt(next), 0)
      : 0
    arr.push([totalTimeout, msg, i,matches?matches.length:0])
  }
}

processData(`72
innakghslks njem : ()
gedtyxrnwnv bchqtmyafh sesxbirwxw oirmhhtfhu wcxtdygmda evgrzzsacb cthuflupkx xrlvibm : ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((422)84)88)346)499)143)431)220)69)175)168)68)269)178)494)423)123)437)284)349)351)82)83)87)438)146)406)55)93)459)380)355)341)207)324)181)99)61)245)252)361)267)480)477)261)97)470)280)186)179)77)405)485)298)257)71)222)370)301)246)73)181)99)215)83)103)101)462)70)389)180)455)158)97)65)343)292)446)228)233)482)330)
ukuwiojoflo pxruraqejs kktzzpbple qyprexvojr bxdlejbzrz yhkurmsrpg sxgvoti : ()
urwaxpamaik pigowizf : ()
qnvkshygvdj  : ()
zzsvbucefdd qtdtmdxxdo lnejpxiakb trtqnvowzw nbjzbxdmur czghrbmumz eklfsavtxb raw : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((404)111)380)479)128)136)343)355)92)477)165)263)394)138)141)410)398)208)150)196)276)388)97)326)87)157)309)172)211)287)304)498)65)483)378)287)106)488)427)363)283)332)378)100)221)135)254)180)71)219)57)78)106)370)70)191)140)103)252)240)55)149)420)101)87)290)73)416)263)327)461)365)162)392)445)88)329)63)105)480)304)120)57)456)360)92)361)351)334)293)104)343)482)
tgcelmhanzc neewuncftb rfjmqfynpz xykoelatwm unoldli : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((108)378)117)317)386)360)100)179)215)61)390)286)78)93)438)194)277)361)80)134)479)74)97)190)75)411)327)98)52)302)63)488)362)449)273)190)121)285)71)316)59)90)70)95)60)113)294)75)120)352)495)406)444)390)294)137)291)478)419)359)107)63)64)464)179)
ggdudxevgbs yveakmvjhc pmjvgryiuh pnkhlaxvbl htxisa : ()
ewnnfhtzomp qelhwcky : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((425)337)325)178)497)367)421)374)289)322)272)252)403)332)331)414)96)450)486)72)89)180)315)429)144)171)118)275)471)75)348)222)231)206)332)128)107)75)408)311)400)167)390)136)376)479)323)384)245)51)66)230)296)80)372)73)305)317)70)419)142)395)98)
vknpfuonwrn ssqladfrxk pwojbyhvaj bbztb : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((201)492)421)199)373)419)60)252)449)148)417)51)220)85)68)110)80)484)389)490)67)158)428)283)444)246)56)93)106)72)307)227)52)494)488)60)232)85)58)448)262)238)185)484)431)403)58)322)222)53)204)497)332)438)445)63)386)346)468)226)270)281)223)136)65)79)429)50)295)333)61)428)253)266)347)124)126)312)145)223)342)442)156)81)283)188)285)94)91)78)248)98)121)
erligjbbzsu d : ()
cbdcfwuandk vrpcvixtkz ioxzvxclwj vqzhirjohm mxmovjaqtv mhaddjn : ()
vecaikgnkoc stfenjtsnt jmomlmkxds cwthtqpdqu riahnzcrjw wkcl : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((90)162)300)72)438)110)103)115)367)392)357)377)329)343)308)354)145)190)208)277)315)162)233)323)270)99)83)458)397)393)191)338)70)385)106)213)257)331)197)93)287)313)491)276)346)108)258)458)181)182)441)336)130)76)484)207)76)468)75)412)280)54)160)341)63)235)257)310)93)
pyxckodozbn bknizgxkgr cnjrnrklxp fzutqwxinc mtgccmpxud ura : ()
bwnpgnniwah kdptxu : ()
fuxxtltavyl fudumeoosi n : ()
skcetxfsrgz rezgdeajrm kgbb : ((((71)178)275)324)
bsvrnjuaxxl ukyx : (((((((((((((61)482)372)143)328)406)239)193)87)348)283)293)334)
rcksisryuzd b : ()
xefnrqgkmnd lkju : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((445)422)196)91)498)471)161)190)358)376)167)202)73)221)483)239)386)301)228)302)465)107)472)67)203)340)473)117)127)61)57)195)172)344)309)299)164)102)289)115)257)219)224)384)69)198)70)57)51)272)175)482)378)106)85)167)56)267)193)425)436)265)206)473)57)82)377)
wzealgcnofu qkpeznefvd klmsglkfvr vukoucwkpn axcmxngihu fpphnhe : ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((113)219)102)407)445)70)70)59)231)89)137)121)88)143)478)450)261)64)84)295)402)50)134)126)424)315)60)75)267)374)364)494)482)147)142)144)161)275)315)152)457)157)56)52)60)243)476)118)441)229)88)261)87)346)447)238)339)107)286)62)101)266)485)178)472)65)224)109)454)357)223)448)300)77)263)386)104)63)128)382)140)460)255)372)153)218)241)97)
xungagpxgky vwerb : ()
mrshzxayman knmroqmink fwhclyhsdh hnpbgyfqew  : (((((((((((((((((((((((((444)77)456)302)382)474)351)384)75)264)381)406)419)106)169)204)293)171)355)51)165)455)198)50)135)
sbydbyfskly wvsundnxem troyqidwqn lyiowhjhkv wlalpytqod thsobpvfjm gewktdkyow ltxluo : ()
zxhvpyveasj erufhrimbq iilvryvpqg nv : ((((((((((((((((((((((((((((((((((((((((((((((148)224)90)353)447)441)166)370)431)70)245)142)328)161)411)413)163)338)465)476)476)91)71)66)341)353)358)395)234)323)148)58)58)83)218)209)134)414)459)489)130)204)322)265)234)57)
lbnovlhktao zvrln : ((((((((346)50)313)64)315)474)427)130)
fznuzwdtqny kraaqrhjfv yqbcvcxidd vmazfkrext uhvgcuskbp ahokldfguh khkvfmkjom vfhu : (((((((((((((((((((((((((((((((((((((((291)145)169)166)97)282)208)154)454)284)280)240)76)367)454)197)339)140)321)383)295)370)447)80)412)124)321)498)70)272)53)53)93)409)325)325)351)110)304)
ssipjkjtwsh niiszfdouo hy : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((188)404)325)197)147)386)458)345)71)173)51)211)212)56)362)144)370)177)433)136)58)226)312)341)409)69)303)422)120)203)183)209)97)75)387)220)51)360)88)468)159)368)233)422)441)309)239)436)264)81)84)438)114)223)69)355)304)51)97)118)410)359)305)296)227)425)471)194)275)99)73)236)53)278)102)219)479)71)245)103)95)491)361)423)278)381)238)329)109)152)61)
pheefutqjbl eacjmwxtaf fpozksdqxa vsypycykjf grvnfuunod neipvkmrpp bhwrteayhh hip : ((((((((((((((((((((((((((((((((((((((((((((((((((((((54)425)427)210)134)301)468)298)290)165)479)64)84)367)127)427)496)443)331)268)51)230)325)242)422)63)56)328)171)454)445)267)319)308)72)205)440)69)59)60)148)393)192)491)322)227)338)452)92)178)255)59)209)366)
pcqdhljwfzn lzujizfq : ((((((((((((((((((((((((((((376)121)293)444)232)329)64)266)59)307)137)161)98)359)160)58)447)69)115)73)158)220)107)79)89)79)57)132)
akiblekrxcr ygh : ()
xcfgfnibeve jwwkqbznvu bzdovwuybk riasmwrwhz gvanxrmoxu yarxwrgbam abzgnzaywc  : ()
zhjovahaeep fogriwlftd mpiytdthau rbnhrgkxnu bbwixdffzg pwohkeziyk w : ()
dqhtsoqqvkg ntzojpmcix myx : (((((((((((((((((((((((((((((((((((((((((((((((((((((((184)277)428)165)398)319)375)98)296)363)330)373)285)183)417)304)135)371)410)494)386)332)151)367)210)58)255)80)82)262)220)326)100)60)352)474)497)352)379)368)317)329)309)194)191)456)460)131)184)487)414)333)161)295)161)
yrvepqxxcmb evyszuzyrf uarjiqrmcy ozkhcvvnwx ljqkkiekeo ukwqbktaua rgbvkivzai uomqfewszt iujatzpt : ()
spjxkxlzvbj ehoudacptt xwfhbunf : ((((((((((((((((((((((((((((((((((((253)197)99)61)59)458)134)200)165)75)305)430)344)92)69)490)486)381)78)273)305)273)82)330)118)471)294)241)75)352)187)313)442)197)444)475)
eehxgbwrdsk bpatwzehoi ttcomvbkhb azgzuyceuk dvnmdflpos xkmxdarzmt xq : ()
jnekdifjzzh nbbgimwybo lakkebyano cywffjzqlb glmvqctxkb jvkmfumeqi ysninxlmph uujvgj : ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((100)101)284)250)436)449)251)59)321)269)468)174)145)314)407)428)417)408)57)313)209)302)290)57)61)410)75)92)187)57)374)433)489)372)94)264)338)108)241)375)88)447)116)378)75)69)427)288)58)57)52)443)314)65)269)76)160)71)64)50)175)483)473)70)273)84)454)444)385)369)262)233)
clvpceshdgw rrheeosfqf koftmrbyrm bpvhwyrszj vswwv : (((((((((((((((((((((((((((((((97)396)82)313)139)329)347)357)64)286)478)285)126)260)174)131)174)121)460)63)103)194)171)274)386)410)102)159)416)97)351)
iwvxktyjasu ggpnl : (((((((((((((((((((((((((((((((((((((((((((((((((((((366)337)80)170)295)134)168)467)53)437)113)370)253)317)347)426)411)157)143)186)130)85)233)298)143)92)77)59)480)282)403)355)64)451)362)479)324)227)394)56)99)55)66)174)426)397)69)352)71)287)444)363)268)
ivybqctzpta lgohvghbcf mjgcyfwncy zzeculgnkk nnmozeishp kmnllkrzkd wliytiqrsz lfkadmxzcg lcxkd : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((465)76)449)282)499)126)244)59)199)338)492)488)91)177)435)157)100)87)183)297)85)244)346)349)151)281)80)148)376)187)442)379)400)62)438)298)286)447)340)128)113)203)401)365)277)50)361)193)123)486)54)180)242)367)67)453)136)95)124)288)168)237)266)286)495)444)458)425)104)87)288)62)378)391)238)99)99)266)371)51)81)76)85)390)494)100)183)358)161)123)459)121)184)256)416)88)424)
qeippvopjsg ryzmgkcooo tddxpeo : ()
fucerguotyn ru : ()
ztgntkbzrmv vlvsxqfcvy ixybqbkbps ghedrvncdb aoouhpwofc amyquyy : ((((((((((((((((((((((((((((((((((((((((((((((((((482)69)495)396)75)280)428)373)365)384)396)279)78)97)429)93)269)107)91)50)96)115)234)367)420)308)444)241)311)460)318)472)423)446)76)429)355)371)334)87)424)121)289)101)178)300)132)296)489)68)
dchodhnypmc bwdqrnjjhj lgrakkukap xudqrnwenj iunkofgbpy yraqqqiqvd ibz : ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((474)301)75)397)335)272)445)208)177)295)146)401)79)82)269)415)98)249)62)190)143)344)206)151)95)478)80)305)147)178)357)214)123)455)413)253)215)179)94)176)290)382)230)124)89)382)478)418)80)307)389)228)247)427)389)118)477)473)87)78)78)64)285)236)424)315)97)62)488)320)373)167)127)68)
cslylziqdpf niwx : ()
qcewhcxdivd hmfigueoad spzsikjofn cimtagwill elswxgqfdk aoxco : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((375)222)400)251)368)59)168)340)462)218)468)324)50)251)493)51)99)179)390)204)123)495)210)134)408)275)404)430)438)331)146)247)139)284)238)223)365)254)321)207)444)249)133)163)162)353)275)243)119)170)55)150)83)422)453)224)94)
sgvpxorrogc oxamuwtpwn tvbvhbbhsv alqovustkc onw : ()
oxyqdhdhbxe yzofvubrii dpndaqheae sarchtiomt ecguuvtfon bkjrikkxmk ktgxnclli : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((301)246)362)418)117)151)85)316)157)358)239)229)58)418)114)206)95)214)395)58)159)61)225)299)214)365)234)346)69)192)190)223)295)309)349)431)466)156)78)191)283)59)74)290)67)76)456)314)124)73)97)341)154)231)152)282)416)263)301)86)294)126)202)91)317)
nazmvvkecaa dxqybfuuls rnkqangcrj cvkyrkzdxf kqpnojafcj kuazotttt : ()
tgzwuhhuzxb dkdwvhsjqx lsgg : ()
iohbtmsylpm cjvkwfuqbw mwsoqdanls jfgzwtfeiz b : ()
rsqxjzdjnwg efhhmaysxn pnxilpnjex ypsnoukzfn nryzbupcal ljwseitgds fkuzaqgrfx rrnbnctn : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((169)118)414)247)426)385)55)377)213)102)248)342)326)327)118)499)338)76)308)133)388)321)423)187)66)227)230)312)217)122)213)343)462)419)418)77)168)354)237)314)210)486)362)59)251)453)420)467)52)423)209)220)375)282)438)174)105)105)211)50)397)219)132)271)261)359)79)435)305)325)256)332)336)59)484)194)85)99)61)85)211)485)402)350)53)146)454)287)121)318)130)364)180)116)207)268)295)
qxgsyftqrao xbdud : ()
smscpltwezv acgdyrjvlw cqgazaophk rbwrcbnqu : ()
oiaorhxagqb wdtuobpsiu yopqsqfbtw lmudlrbmih zgnsyvjgsg gbwhfxsuux vfesacxkyg cupizelc : ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((477)161)460)96)113)155)190)456)329)351)161)151)109)294)181)79)488)220)64)383)135)155)470)371)189)427)150)306)363)333)227)461)354)267)69)61)275)215)444)77)100)363)119)56)54)344)292)358)491)89)198)262)387)343)240)123)258)320)
ebnybpzlfjc qstk : ((((((((((((289)65)404)258)54)244)407)391)81)90)427)168)
apfodgcxnec drmlyvadon vbqhrlvvko hqwosxycvk afldentixa  : (((((((((((((((((301)269)274)411)306)359)291)352)77)314)183)86)451)160)390)158)422)
heirkduptot cifvppmdcm ishqufnbw : ()
jqqoqlxqqec xuvbttdyfv wviqmjmnos qmvrehwhwr eepgtnbjsg qwfbncrkxu fwshjqgywc evqycpjwty wzz : ((((((((((((((((((((((((((((((((((((((((((((((((139)385)270)397)415)390)93)139)73)207)189)301)312)277)63)165)117)109)494)117)448)252)71)316)156)337)409)98)50)185)450)53)108)89)262)389)184)143)418)90)145)229)252)434)288)62)322)173)
jzqcskgvyth kolnqhffht mfvjzkupgq meuagxpdnx evhpz : ()
yipsmnfmame znyskyiofy hslmyndrwz azbxjgwrpa xigxruqsiu zvxbfyrzjt itkv : ((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((80)191)484)167)67)353)215)394)215)228)205)414)141)390)60)69)390)329)107)121)389)185)270)107)285)225)455)419)172)143)418)232)245)164)233)174)314)347)324)362)490)266)73)453)272)79)130)259)264)457)231)56)157)419)454)359)429)218)364)470)351)184)267)457)421)87)78)172)445)128)423)349)353)349)229)278)167)98)263)53)230)289)454)462)80)338)474)210)
johdtugnoo : ((((((((((((((((((((((((((((((((((((((((((((((((((184)396)87)484)177)180)303)357)460)77)208)470)411)154)482)235)96)52)255)155)331)249)486)248)421)409)264)342)394)466)51)80)282)383)151)148)426)428)124)191)163)75)384)197)310)143)282)435)423)216)
eteujpjwsqp xxjqnqijsh lvchykzram trootmsl : ()
wifehiowdvs wwmpxxbdtu qbkiveipxz dfklbca : ()
icldwaeyrio mldutsuw : (415)
mqumbpqsbkd vkaajqixir lweslhqhcv vonjfkdkue  : ()
kgayghxzqe : ()
cezbpjwnvti jxzhxmircb bziigvztqs  : ()
enwuygnwxgm zvluxfymyh gysnybvwhb laorurxdxg jotvdhsqaz cxqxywbwxn ildhbjwhca xm : ()
akddonpvpdd mwjestfmkd  : (((((((((((((((((((((((((((((((((((((((((((((((((((((((((((((218)59)75)311)116)208)400)478)156)222)104)280)320)380)126)456)185)98)55)98)308)142)71)286)307)213)336)170)341)271)396)68)456)482)252)466)187)202)134)216)87)61)480)400)89)382)61)477)199)203)229)284)291)319)481)58)465)467)77)59)265)
xymatvevxyc cznmtvxedk jkhsanfdat sgkkvosxks mapqnfdwbz wjzwut : ()`)